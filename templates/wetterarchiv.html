<!DOCTYPE html>
<html lang="de">

<head>
    <link rel="preload" href="{{ url_for('static', filename='Wetter_Wallpaper.webp') }}" as="image">
    <link rel="icon" href="{{ url_for('static', filename='Favicon_Wetter.png') }}" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wetterarchiv Europa 1860-2022</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='Pics.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='Styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='eingabemaske.css') }}">
    <link rel="prefetch" href="{{ url_for('home') }}">
    <link rel="prefetch" href="{{ url_for('wettervorhersage_3_Tage') }}">
    <link rel="prefetch" href="{{ url_for('impressum') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='js/wetterarchiv.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
</head>

<body>
    <div id="global-loading-indicator" class="design-spinner">
        <div class="spinner"></div>
    </div>
    <nav class="topbar">
        <ul>
            <li><a href="{{ url_for('home') }}">Home</a></li>
            <li><a href="{{ url_for('wettervorhersage_3_Tage')}}">Vorhersage</a></li>
            <li><a href="{{ url_for('impressum') }}">Impressum</a></li>
        </ul>
    </nav>
    <div class="main-wrapper-subsites fade">
        <main class="content">
            <h1 class="banner-archiv">Wetterarchiv</h1>
            <form id="wetterForm">
                <div class="form-group">
                    <label class="abfrage-label">Abfrage starten</label>
                    <br></br>
                    <label for="station">📍 Wetterstation:</label>
                    <select id="station" name="station" required>
                        <option value="" disabled selected>Ort wählen ...</option>
                        {% for station in stationen %}
                            <option value="{{station.STAID}}">{{station.STANAME}}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="date">📅 Datum:</label>
                    <input type="text" id="date" name="date" placeholder="z.B. 25.10.1988">
                </div>
                <button type="submit">🌡️ Temperatur abrufen</button>
            </form>
            <div id="result"></div>

            <div id="chartWrapper">
                <div id="chartContainer">
                    <h2>Höchsttemperatur</h2>
                    <div id="chartInfo"></div>
                    <h2>📈 Jahresverlauf</h2>
                    <canvas id="chart"></canvas>
                </div>
            </div>

            <div class="info-wrapper">
                <p class="wetterarchiv-info">Bitte bedenken Sie, dass es sich hier um eine Sammlung aller europäischen Wetterstationen handelt, die seit 1860 bis 2022 
                    Messungen vornahmen. Einige von ihnen sind schon lange nicht mehr in Betrieb, andere waren nur wenige Jahre in Betrieb oder immer mal wieder 
                    (doppelte Einträge!).
                </p>
            </div>
        </main>
    </div>
{% if fehler %}
    <p>Fehler: {{ fehler }}</p>
{% endif %}
<script id="stationen-data" type="application/json">{{ stationen | tojson }}</script>
</body>
</html>
